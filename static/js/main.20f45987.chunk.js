(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{24:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),c=n.n(i),s=(n(24),n(6)),o=n.n(s),l=n(8),u=n(10),d=n(11),h=n(7),p=n(13),j=n(12),v=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r,i,c,s,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:1,a=l.length>2?l[2]:void 0,r="71a9dce3",i="".concat("https://www.omdbapi.com","/?apikey=").concat(r,"&s=").concat(t,"&page=").concat(n).concat(a?"&type=".concat(a):""),e.next=7,fetch(i);case 7:return c=e.sent,e.next=10,c.json();case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://www.omdbapi.com","71a9dce3",n="".concat("https://www.omdbapi.com","/?apikey=").concat("71a9dce3","&i=").concat(t),e.next=5,fetch(n);case 5:return a=e.sent,e.next=8,a.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return"".concat(e.substring(0,t),"...")},O=n(1),x=function(e){return Object(O.jsxs)("div",{className:"movie-card",onClick:e.onClick,children:[Object(O.jsx)("img",{src:e.posterUrl}),Object(O.jsx)("p",{children:m(e.title,15)}),Object(O.jsx)("p",{children:e.type})]})},f=function(e){var t=e.posterUrl,n=e.title,a=e.rated,r=e.runtime,i=e.genre,c=void 0===i?"Unknown":i,s=e.rating,o=void 0===s?0:s,l=e.plot,u=e.actors;return Object(O.jsxs)("div",{className:"movie-details",children:[Object(O.jsx)("div",{className:"poster",children:Object(O.jsx)("img",{src:t})}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("p",{className:"title",children:n}),Object(O.jsx)("p",{className:"rating",children:null!==o&&void 0!==o?o:"N/A"})]}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:[r," min"]}),Object(O.jsx)("li",{children:a}),Object(O.jsx)("li",{children:c})]}),Object(O.jsxs)("div",{className:"info-section",children:[Object(O.jsx)("p",{className:"title",children:"Plot"}),Object(O.jsx)("p",{children:l})]}),Object(O.jsxs)("div",{className:"info-section",children:[Object(O.jsx)("p",{className:"title",children:"Actors"}),Object(O.jsx)("p",{children:u})]})]})]})},g=function(e){var t=e.list,n=void 0===t?[]:t,a=e.render;return n.map((function(e){return Object(O.jsx)(O.Fragment,{children:a(e)})}))},y=function(e){var t=e.show,n=void 0!==t&&t,a=e.onClose,r=e.children;return Object(O.jsx)("div",{className:"modal",style:{display:n?"flex":"none"},children:Object(O.jsxs)("div",{className:"modal-content",children:[Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:a,children:"X"})}),r]})})},S=n(19),k=n(9),w=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleTypeChange=function(e){a.setState({type:e.target.value})},a.state={searchTerm:"",type:""},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(d.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSearchSubmit(this.state.searchTerm),this.props.onTypeSubmit(this.state.type),this.setState({searchTerm:""})}},{key:"handleChange",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"render",value:function(){return Object(O.jsx)("div",{className:"search-form",children:Object(O.jsx)(k.a,{inline:!0,onSubmit:this.handleSubmit,children:Object(O.jsxs)(k.a.Row,{children:[Object(O.jsx)(k.a.Control,{placeholder:"Search Title",value:this.state.searchTerm,onChange:this.handleChange}),Object(O.jsxs)(k.a.Control,{as:"select",className:"mr-sm-2",id:"search-type",custom:!0,name:"search-type",value:this.state.type,onChange:this.handleTypeChange,children:[Object(O.jsx)("option",{value:"movie",children:"Movie"}),Object(O.jsx)("option",{value:"series",children:"Series"}),Object(O.jsx)("option",{value:"episode",children:"Episode"})]}),Object(O.jsx)(S.a,{onClick:this.handleSubmit,variant:"primary",className:"btn-primary",children:"Search"})]})})})}}]),n}(a.Component),C=function(e){var t=e.currentPage,n=e.numPages,a=e.onPrevPage,r=e.onNextPage;return Object(O.jsxs)("div",{className:"paginator",children:[Object(O.jsxs)("p",{children:[t," of ",n]}),Object(O.jsx)("button",{onClick:a,children:"<"}),Object(O.jsx)("button",{onClick:r,children:">"})]})},P=(n(30),function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).openModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.setState({modalOpen:e})},a.onTypeSubmit=function(e){a.setState({type:e})},a.state={searchTerm:"batman",isLoading:!1,movies:null,error:null,modalOpen:!1,currMovie:null,page:1,type:""},a.openModal=a.openModal.bind(Object(h.a)(a)),a.incrementPage=a.incrementPage.bind(Object(h.a)(a)),a.decrementPage=a.decrementPage.bind(Object(h.a)(a)),a.onSearchSubmit=a.onSearchSubmit.bind(Object(h.a)(a)),a}return Object(d.a)(n,[{key:"incrementPage",value:function(){this.setState((function(e){return{page:e.page+1}}))}},{key:"decrementPage",value:function(){this.setState((function(e){return{page:e.page-1}}))}},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isLoading:!0}),setTimeout(Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t.state.searchTerm,t.state.page,t.state.type);case 3:n=e.sent,t.setState({isLoading:!1,movies:n,error:null}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.setState({isLoading:!1,movies:[],error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),1e3);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.page===this.state.page&&n.searchTerm===this.state.searchTerm&&n.type===this.state.type){e.next=12;break}return e.prev=1,e.next=4,v(this.state.searchTerm,this.state.page,this.state.type);case 4:a=e.sent,console.log("New data fetched"),this.setState({isLoading:!1,movies:a,error:null}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1,movies:[],error:e.t0});case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onMovieClicked",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:n=e.sent,this.setState({currMovie:n,modalOpen:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSearchSubmit",value:function(e){this.setState({searchTerm:e})}},{key:"render",value:function(){var e,t,n=this,a=this.state.currMovie;return Object(O.jsx)(O.Fragment,{children:this.state.isLoading?Object(O.jsx)("h1",{children:"Loading data"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{id:"title",children:"MovieFind"}),Object(O.jsx)(w,{onSearchSubmit:this.onSearchSubmit,onTypeSubmit:this.onTypeSubmit}),Object(O.jsx)(g,{list:null===(e=this.state.movies)||void 0===e?void 0:e.Search,render:function(e){return Object(O.jsx)(x,{title:e.Title,posterUrl:e.Poster,type:e.Type,onClick:function(){return n.onMovieClicked(e.imdbID)}})}}),Object(O.jsx)(C,{currentPage:this.state.page,numPages:Math.ceil((null===(t=this.state.movies)||void 0===t?void 0:t.totalResults)/10),onPrevPage:this.decrementPage,onNextPage:this.incrementPage}),Object(O.jsx)(y,{show:this.state.modalOpen,onClose:function(){return n.openModal(!1)},children:Object(O.jsx)(f,{posterUrl:null===a||void 0===a?void 0:a.Poster,title:null===a||void 0===a?void 0:a.Title,rated:null===a||void 0===a?void 0:a.Rated,runtime:null===a||void 0===a?void 0:a.Runtime,genre:null===a||void 0===a?void 0:a.Genre,rating:null===a||void 0===a?void 0:a.Ratings[0].Value,plot:null===a||void 0===a?void 0:a.Plot,actors:null===a||void 0===a?void 0:a.Actors})})]})})}}]),n}(r.a.Component)),T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(P,{})}),document.getElementById("root")),T()}},[[31,1,2]]]);
//# sourceMappingURL=main.20f45987.chunk.js.map